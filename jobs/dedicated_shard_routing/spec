---
name: dedicated_shard_routing

description: This job uploads routing rules for events that belog to CF orgs that have dedicated nodes

packages: []

templates:
  bin/errand.sh.erb: bin/run

consumes:
 - name: elasticsearch
   type: elasticsearch
   optional: true

properties:
  dedicated_shard_routing.elasticsearch.host:
    description: Elasticsearch host
  dedicated_shard_routing.elasticsearch.port:
    description: Elasticsearch port
    default: 9200
  dedicated_shard_routing.dedicated_cf_orgs:
    description: List of Cloud Foundry orgs that should have didicated indicies
  dedicated_shard_routing.index_prefix:
    default: logs-app
  dedicated_shard_routing.platform_logs:
    description: Set to true if CF sys-logs are enabled and need to be senet to their dedicated nodes
    default: false
  dedicated_shard_routing.platform_index_prefix:
    default: logs-platform